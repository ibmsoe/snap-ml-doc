

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>load_svmlight_file &mdash; Snap Machine Learning  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="log_loss" href="sklogdoc.html" />
    <link rel="prev" title="decomposition.TruncatedSVD (uses cuML)" href="svddoc.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Snap Machine Learning
          

          
          </a>

          
            
            
              <div class="version">
                1.6.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="manual.html">Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="frequentlyaskedquestions.html">FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">API References</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="snapml.html">SnapML APIs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="pai4sk.html">Scikit-learn compatible pai4sk APIs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ridgedoc.html">linear_model.Ridge (use SnapML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="lassodoc.html">linear_model.Lasso (uses SnapML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sklogregdoc.html">linear_model.LogisticRegression (uses SnapML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="svcdoc.html">svm.LinearSVC (uses SnapML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="kmeansdoc.html">cluster.KMeans (uses cuML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="knndoc.html">neighbors.NearestNeighbors (uses cuML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dbscandoc.html">cluster.DBSCAN (uses cuML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pcadoc.html">decomposition.PCA (uses cuML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="svddoc.html">decomposition.TruncatedSVD (uses cuML)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">load_svmlight_file</a></li>
<li class="toctree-l2"><a class="reference internal" href="sklogdoc.html">log_loss</a></li>
<li class="toctree-l2"><a class="reference internal" href="skaccdoc.html">accuracy_score</a></li>
<li class="toctree-l2"><a class="reference internal" href="skhingedoc.html">hinge_loss</a></li>
<li class="toctree-l2"><a class="reference internal" href="skmsedoc.html">mean_squared_error</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="simsearch.html">Similarity Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="est.html">SnapML Spark Estimators</a></li>
<li class="toctree-l1"><a class="reference internal" href="spark.html">SnapML Spark APIs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Snap Machine Learning</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="pai4sk.html">Scikit-learn compatible pai4sk APIs</a> &raquo;</li>
        
      <li>load_svmlight_file</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="load-svmlight-file">
<span id="sk-svmloader-file-doc"></span><h1>load_svmlight_file<a class="headerlink" href="#load-svmlight-file" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="pai4sk.datasets.load_svmlight_file">
<code class="sig-prename descclassname">pai4sk.datasets.</code><code class="sig-name descname">load_svmlight_file</code><span class="sig-paren">(</span><em class="sig-param">f</em>, <em class="sig-param">n_features=None</em>, <em class="sig-param">dtype=&lt;class 'numpy.float64'&gt;</em>, <em class="sig-param">multilabel=False</em>, <em class="sig-param">zero_based='auto'</em>, <em class="sig-param">query_id=False</em>, <em class="sig-param">offset=0</em>, <em class="sig-param">length=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#pai4sk.datasets.load_svmlight_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load datasets in the svmlight / libsvm format into sparse CSR matrix</p>
<p>This format is a text-based format, with one sample per line. It does
not store zero valued features hence is suitable for sparse dataset.</p>
<p>The first element of each line can be used to store a target variable
to predict.</p>
<p>This format is used as the default format for both svmlight and the
libsvm command line programs.</p>
<p>Parsing a text based source can be expensive. When working on
repeatedly on the same dataset, it is recommended to wrap this
loader with joblib.Memory.cache to store a memmapped backup of the
CSR results of the first call and benefit from the near instantaneous
loading of memmapped structures for the subsequent calls.</p>
<p>In case the file contains a pairwise preference constraint (known
as “qid” in the svmlight format) these are ignored unless the
query_id parameter is set to True. These pairwise preference
constraints can be used to constraint the combination of samples
when using pairwise loss functions (as is the case in some
learning to rank problems) so that only pairs with the same
query_id value are considered.</p>
<p>This implementation is written in Cython and is reasonably fast.
However, a faster API-compatible loader is also available at:</p>
<blockquote>
<div><p><a class="reference external" href="https://github.com/mblondel/svmlight-loader">https://github.com/mblondel/svmlight-loader</a></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>{str</em><em>, </em><em>file-like</em><em>, </em><em>int}</em>) – (Path to) a file to load. If a path ends in “.gz” or “.bz2”, it will
be uncompressed on the fly. If an integer is passed, it is assumed to
be a file descriptor. A file-like or file descriptor will not be closed
by this function. A file-like object must be opened in binary mode.</p></li>
<li><p><strong>n_features</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – The number of features to use. If None, it will be inferred. This
argument is useful to load several files that are subsets of a
bigger sliced dataset: each subset might not have examples of
every feature, hence the inferred shape might vary from one
slice to another.
n_features is only required if <code class="docutils literal notranslate"><span class="pre">offset</span></code> or <code class="docutils literal notranslate"><span class="pre">length</span></code> are passed a
non-default value.</p></li>
<li><p><strong>dtype</strong> (<em>numpy data type</em><em>, </em><em>default np.float64</em>) – Data type of dataset to be loaded. This will be the data type of the
output numpy arrays <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p></li>
<li><p><strong>multilabel</strong> (<em>boolean</em><em>, </em><em>optional</em><em>, </em><em>default False</em>) – Samples may have several labels each (see
<a class="reference external" href="https://www.csie.ntu.edu.tw/~cjlin/libsvmtools/datasets/multilabel.html">https://www.csie.ntu.edu.tw/~cjlin/libsvmtools/datasets/multilabel.html</a>)</p></li>
<li><p><strong>zero_based</strong> (<em>boolean</em><em> or </em><em>&quot;auto&quot;</em><em>, </em><em>optional</em><em>, </em><em>default &quot;auto&quot;</em>) – Whether column indices in f are zero-based (True) or one-based
(False). If column indices are one-based, they are transformed to
zero-based to match Python/NumPy conventions.
If set to “auto”, a heuristic check is applied to determine this from
the file contents. Both kinds of files occur “in the wild”, but they
are unfortunately not self-identifying. Using “auto” or True should
always be safe when no <code class="docutils literal notranslate"><span class="pre">offset</span></code> or <code class="docutils literal notranslate"><span class="pre">length</span></code> is passed.
If <code class="docutils literal notranslate"><span class="pre">offset</span></code> or <code class="docutils literal notranslate"><span class="pre">length</span></code> are passed, the “auto” mode falls back
to <code class="docutils literal notranslate"><span class="pre">zero_based=True</span></code> to avoid having the heuristic check yield
inconsistent results on different segments of the file.</p></li>
<li><p><strong>query_id</strong> (<em>boolean</em><em>, </em><em>default False</em>) – If True, will return the query_id array for each file.</p></li>
<li><p><strong>offset</strong> (<em>integer</em><em>, </em><em>optional</em><em>, </em><em>default 0</em>) – Ignore the offset first bytes by seeking forward, then
discarding the following bytes up until the next new line
character.</p></li>
<li><p><strong>length</strong> (<em>integer</em><em>, </em><em>optional</em><em>, </em><em>default -1</em>) – If strictly positive, stop reading any new line of data once the
position in the file has reached the (offset + length) bytes threshold.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>X</strong> (<em>scipy.sparse matrix of shape (n_samples, n_features)</em>)</p></li>
<li><p><strong>y</strong> (<em>ndarray of shape (n_samples,), or, in the multilabel a list of</em>) – tuples of length n_samples.</p></li>
<li><p><strong>query_id</strong> (<em>array of shape (n_samples,)</em>) – query_id for each sample. Only returned when query_id is set to
True.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">load_svmlight_files()</span></code></dt><dd><p>similar function for loading multiple files in this</p>
</dd>
</dl>
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#format" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">format()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">enforcing()</span></code></p>
</div>
<p class="rubric">Examples</p>
<p>To use joblib.Memory to cache the svmlight file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">joblib</span> <span class="k">import</span> <span class="n">Memory</span>
<span class="kn">from</span> <span class="nn">pai4sk.datasets</span> <span class="k">import</span> <span class="n">load_svmlight_file</span>
<span class="n">mem</span> <span class="o">=</span> <span class="n">Memory</span><span class="p">(</span><span class="s2">&quot;./mycache&quot;</span><span class="p">)</span>

<span class="nd">@mem</span><span class="o">.</span><span class="n">cache</span>
<span class="k">def</span> <span class="nf">get_data</span><span class="p">():</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">load_svmlight_file</span><span class="p">(</span><span class="s2">&quot;mysvmlightfile&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">get_data</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sklogdoc.html" class="btn btn-neutral float-right" title="log_loss" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="svddoc.html" class="btn btn-neutral float-left" title="decomposition.TruncatedSVD (uses cuML)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright IBM Corporation 2018, 2020

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>